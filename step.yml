title: |-
  Git Config Internal SSL
summary: |
  Setup git to use a private certificate/key pair for SSL connections.
description: |
  Download private certificate/key pair and expose local path to files.
  Configure system git settings for SSL using private certificate/key.
  This is usually executed in the begging of your workflow so other steps can access the certificate/key file paths.

website: https://github.com/fcar12/bitrise-step-git-config-internal-ssl
source_code_url: https://github.com/fcar12/bitrise-step-git-config-internal-ssl
support_url: https://github.com/fcar12/bitrise-step-git-config-internal-ssl/issues

type_tags:
  - access-control

toolkit:
  bash:
    entry_file: step.sh


inputs:
  - certicate_url:
    opts:
      title: "Certificate URL"
      summary: URL for certificate file.
      description: |
        URL for certificate file.
      is_required: true
  - key_url:
    opts:
      title: "Key URL"
      summary: URL for key file.
      description: |
        URL for key file.
      is_required: true
  - domain:
    opts:
      title: "Domain"
      summary: Domain to configure git for.
      description: |
        Domain to configure git for.
      is_required: true 
  - authorization_token:
    opts:
      title: "Authorization Token"
      summary: Optional token used for authorization header.
      description: |
        Optional token used for authorization header. If provided, it will be added as an extra header in the git configuration.
      is_required: false
      is_sensitive: true

outputs:
  - GIT_CERTIFICATE_PATH:
    opts:
      title: "Certificate Path"
      summary: Path to the downloaded certificate file.
      description: |
        Path to the downloaded certificate file.
  - GIT_KEY_PATH:
    opts:
      title: "Key Path"
      summary: Path to the downloaded key file.
      description: |  
        Path to the downloaded key file.